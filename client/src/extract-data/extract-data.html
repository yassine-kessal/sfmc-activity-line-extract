<template>
    <div class="slds-p-around_medium">

        <div class="slds-m-vertical_small">
            <dl class="slds-list_horizontal slds-wrap">
                <dt class="slds-item_label slds-text-color_weak slds-truncate slds-text-title_bold">
                    Event Definition Key :</dt>
                <dd class="slds-item_detail slds-truncate">{eventDefinitionKey}</dd>
            </dl>
        </div>

        <template if:false={hasFields}>
            <div class="slds-text-color_error slds-text-title_bold slds-text-align_center">Please start by adding field.
            </div>
        </template>
        <template iterator:it={fields}>
            <lightning-layout key={it.value.id} vertical-align="end">
                <lightning-layout-item flexibility="auto">
                    <lightning-input label="Name" data-fieldid={it.value.id} data-fieldtype="name"
                        onchange={onFieldChange} value={it.value.name} disabled={it.value.disabled}>
                    </lightning-input>
                </lightning-layout-item>
                <lightning-layout-item flexibility="shrink" class="slds-text-heading_medium slds-p-horizontal_medium">
                    <lightning-button-icon icon-name="utility:chevronright" alternative-text="Map"
                        variant="border-filled">
                    </lightning-button-icon>
                </lightning-layout-item>
                <lightning-layout-item flexibility="auto">
                    <lightning-input label="Value" data-fieldid={it.value.id} data-fieldtype="value"
                        onchange={onFieldChange} value={it.value.value} disabled={it.value.disabled}></lightning-input>
                </lightning-layout-item>
                <lightning-layout-item flexibility="shrink" class="slds-p-horizontal_medium">
                    <lightning-button-icon data-id={it.value.id} onclick={removeField} icon-name="utility:close"
                        alternative-text="Remove" variant="border-filled">
                    </lightning-button-icon>
                </lightning-layout-item>
            </lightning-layout>
        </template>

        <div class="slds-m-top_medium">
            <lightning-button onclick={addField} label="Add field" variant="brand"></lightning-button>
        </div>

        <div class="slds-m-top_medium">
            <lightning-input label="Filename" onchange={onFilenameChange} value={file.filename} disabled>
            </lightning-input>
        </div>
    </div>
</template>