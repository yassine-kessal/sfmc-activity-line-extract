<template>
    <components-activity title="Extract Data" icon="standard:data_mapping" context="activity" can-next={hasFields}
        events={events} oncontext={getContext}>

        <div class="slds-m-vertical_small">
            <dl class="slds-list_horizontal slds-wrap">
                <dt class="slds-item_label slds-text-color_weak slds-truncate slds-text-title_bold">
                    Event Definition Key :</dt>
                <dd class="slds-item_detail slds-truncate">{eventDefinitionKey}</dd>
            </dl>
        </div>

        <template if:false={hasFields}>
            <div class="slds-text-color_error slds-text-title_bold slds-text-align_center">Please start by adding field.
            </div>
        </template>
        <template iterator:it={fields}>
            <lightning-layout key={it.value.id} vertical-align="end">
                <lightning-layout-item flexibility="auto">
                    <lightning-input label="Name"></lightning-input>
                </lightning-layout-item>
                <lightning-layout-item flexibility="shrink" class="slds-text-heading_medium slds-p-horizontal_medium">
                    <lightning-button-icon icon-name="utility:chevronright" alternative-text="Map"
                        variant="border-filled">
                    </lightning-button-icon>
                </lightning-layout-item>
                <lightning-layout-item flexibility="auto">
                    <lightning-input label="Value"></lightning-input>
                </lightning-layout-item>
                <lightning-layout-item flexibility="shrink" class="slds-p-horizontal_medium">
                    <lightning-button-icon name={it.value.id} onclick={removeField} icon-name="utility:close"
                        alternative-text="Remove" variant="border-filled">
                    </lightning-button-icon>
                </lightning-layout-item>
            </lightning-layout>
        </template>

        <div class="slds-m-top_medium">
            <lightning-button onclick={addField} label="Add field" variant="brand"></lightning-button>
        </div>
    </components-activity>
</template>